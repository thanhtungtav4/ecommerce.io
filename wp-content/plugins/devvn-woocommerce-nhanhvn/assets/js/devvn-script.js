!function(t){t(document).ready(function(){t("body").on("click",".devvn-check-showroom",function(){let o=t(this).closest(".depots-wrap"),a=t(this).attr("data-prodid");return a&&t.ajax({type:"post",dataType:"json",url:devvn_nhanhvn_array.ajaxurl,data:{action:"check_inventory",id:a},context:this,beforeSend:function(){t(".depots-list",o).hide(),o.addClass("nhanhvn-loading")},success:function(a){if(a.success){let n=a.data.fragments;t.each(n,function(o,a){a&&t(o).html(a).show()}),t(document.body).trigger("nhanhvn_after_check_inventory")}else alert(a.data);o.removeClass("nhanhvn-loading")},error:function(t,a,n){o.removeClass("nhanhvn-loading"),alert(a)}}),!1}),t("body").on("show_variation",function(o,a){let n=a.nhanhid,e=t(o.target).closest("form");t(".depots-list",e).hide().html(""),n&&a.is_in_stock&&a.is_purchasable?(t(".depots-wrap",e).removeClass("is_variation"),t(".devvn-check-showroom",e).attr("data-prodid",n)):(t(".depots-wrap",e).addClass("is_variation"),t(".devvn-check-showroom",e).attr("data-prodid",""))}),t("body").on("hide_variation",function(o){let a=t(o.target).closest("form");t(".depots-list",a).hide().html(""),t(".depots-wrap",a).addClass("is_variation"),t(".devvn-check-showroom",a).attr("data-prodid","")})})}(jQuery);